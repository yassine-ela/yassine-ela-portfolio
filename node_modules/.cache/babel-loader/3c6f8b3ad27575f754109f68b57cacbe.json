{"ast":null,"code":"'use client';\n\nimport _slicedToArray from \"C:\\\\yassinePortfolio\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { formatMuiErrorMessage as _formatMuiErrorMessage } from \"@mui/utils\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef, unstable_useId as useId, unstable_useControlled as useControlled } from '@mui/utils';\nimport { useFormControlContext } from '../FormControl';\nimport { clamp, isNumber } from './utils';\nimport { extractEventHandlers } from '../utils/extractEventHandlers';\nvar STEP_KEYS = ['ArrowUp', 'ArrowDown', 'PageUp', 'PageDown'];\nvar SUPPORTED_KEYS = [].concat(STEP_KEYS, ['Home', 'End']);\nfunction parseInput(v) {\n  return v ? String(v.trim()) : String(v);\n}\n\n/**\n *\n * Demos:\n *\n * - [Number Input](https://mui.com/base-ui/react-number-input/#hook)\n *\n * API:\n *\n * - [useNumberInput API](https://mui.com/base-ui/react-number-input/hooks-api/#use-number-input)\n */\nexport function useNumberInput(parameters) {\n  var min = parameters.min,\n    max = parameters.max,\n    step = parameters.step,\n    _parameters$shiftMult = parameters.shiftMultiplier,\n    shiftMultiplier = _parameters$shiftMult === void 0 ? 10 : _parameters$shiftMult,\n    defaultValueProp = parameters.defaultValue,\n    _parameters$disabled = parameters.disabled,\n    disabledProp = _parameters$disabled === void 0 ? false : _parameters$disabled,\n    _parameters$error = parameters.error,\n    errorProp = _parameters$error === void 0 ? false : _parameters$error,\n    onBlur = parameters.onBlur,\n    onInputChange = parameters.onInputChange,\n    onFocus = parameters.onFocus,\n    onChange = parameters.onChange,\n    _parameters$required = parameters.required,\n    requiredProp = _parameters$required === void 0 ? false : _parameters$required,\n    _parameters$readOnly = parameters.readOnly,\n    readOnlyProp = _parameters$readOnly === void 0 ? false : _parameters$readOnly,\n    valueProp = parameters.value,\n    inputRefProp = parameters.inputRef,\n    inputIdProp = parameters.inputId;\n\n  // TODO: make it work with FormControl\n  var formControlContext = useFormControlContext();\n  var _React$useRef = React.useRef(valueProp != null),\n    isControlled = _React$useRef.current;\n  var handleInputRefWarning = React.useCallback(function (instance) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (instance && instance.nodeName !== 'INPUT' && !instance.focus) {\n        console.error(['MUI: You have provided a `slots.input` to the input component', 'that does not correctly handle the `ref` prop.', 'Make sure the `ref` prop is called with a HTMLInputElement.'].join('\\n'));\n      }\n    }\n  }, []);\n  var inputRef = React.useRef(null);\n  var handleInputRef = useForkRef(inputRef, inputRefProp, handleInputRefWarning);\n  var inputId = useId(inputIdProp);\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    focused = _React$useState2[0],\n    setFocused = _React$useState2[1];\n\n  // the \"final\" value\n  var _useControlled = useControlled({\n      controlled: valueProp,\n      default: defaultValueProp,\n      name: 'NumberInput'\n    }),\n    _useControlled2 = _slicedToArray(_useControlled, 2),\n    value = _useControlled2[0],\n    setValue = _useControlled2[1];\n\n  // the (potentially) dirty or invalid input value\n  var _React$useState3 = React.useState(value ? String(value) : undefined),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    dirtyValue = _React$useState4[0],\n    setDirtyValue = _React$useState4[1];\n  React.useEffect(function () {\n    if (!formControlContext && disabledProp && focused) {\n      setFocused(false);\n      onBlur == null || onBlur();\n    }\n  }, [formControlContext, disabledProp, focused, onBlur]);\n  var handleFocus = function handleFocus(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onFocu;\n      (_otherHandlers$onFocu = otherHandlers.onFocus) == null || _otherHandlers$onFocu.call(otherHandlers, event);\n      if (event.defaultPrevented) {\n        return;\n      }\n      if (formControlContext && formControlContext.onFocus) {\n        var _formControlContext$o;\n        formControlContext == null || (_formControlContext$o = formControlContext.onFocus) == null || _formControlContext$o.call(formControlContext);\n      }\n      setFocused(true);\n    };\n  };\n  var handleValueChange = function handleValueChange() {\n    return function (event, val) {\n      var newValue;\n      if (val === undefined) {\n        newValue = val;\n        setDirtyValue('');\n      } else {\n        newValue = clamp(val, min, max, step);\n        setDirtyValue(String(newValue));\n      }\n      setValue(newValue);\n      if (isNumber(newValue)) {\n        onChange == null || onChange(event, newValue);\n      } else {\n        onChange == null || onChange(event, undefined);\n      }\n    };\n  };\n  var handleInputChange = function handleInputChange(otherHandlers) {\n    return function (event) {\n      var _formControlContext$o2, _otherHandlers$onInpu;\n      if (!isControlled && event.target === null) {\n        throw new Error(process.env.NODE_ENV !== \"production\" ? \"MUI: Expected valid input target. Did you use a custom `slots.input` and forget to forward refs? See https://mui.com/r/input-component-ref-interface for more info.\" : _formatMuiErrorMessage(17));\n      }\n      formControlContext == null || (_formControlContext$o2 = formControlContext.onChange) == null || _formControlContext$o2.call(formControlContext, event);\n      (_otherHandlers$onInpu = otherHandlers.onInputChange) == null || _otherHandlers$onInpu.call(otherHandlers, event);\n      var val = parseInput(event.currentTarget.value);\n      if (val === '' || val === '-') {\n        setDirtyValue(val);\n        setValue(undefined);\n      }\n      if (val.match(/^-?\\d+?$/)) {\n        setDirtyValue(val);\n        setValue(parseInt(val, 10));\n      }\n    };\n  };\n  var handleBlur = function handleBlur(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onBlur;\n      var val = parseInput(event.currentTarget.value);\n      (_otherHandlers$onBlur = otherHandlers.onBlur) == null || _otherHandlers$onBlur.call(otherHandlers, event);\n      if (val === '' || val === '-') {\n        handleValueChange()(event, undefined);\n      } else {\n        handleValueChange()(event, parseInt(val, 10));\n      }\n      if (formControlContext && formControlContext.onBlur) {\n        formControlContext.onBlur();\n      }\n      setFocused(false);\n    };\n  };\n  var handleClick = function handleClick(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onClic;\n      if (inputRef.current && event.currentTarget === event.target) {\n        inputRef.current.focus();\n      }\n      (_otherHandlers$onClic = otherHandlers.onClick) == null || _otherHandlers$onClic.call(otherHandlers, event);\n    };\n  };\n  var handleStep = function handleStep(direction) {\n    return function (event) {\n      var newValue;\n      if (isNumber(value)) {\n        var multiplier = event.shiftKey || event.key === 'PageUp' || event.key === 'PageDown' ? shiftMultiplier : 1;\n        newValue = {\n          up: value + (step != null ? step : 1) * multiplier,\n          down: value - (step != null ? step : 1) * multiplier\n        }[direction];\n      } else {\n        // no value\n        newValue = {\n          up: min != null ? min : 0,\n          down: max != null ? max : 0\n        }[direction];\n      }\n      handleValueChange()(event, newValue);\n    };\n  };\n  var handleKeyDown = function handleKeyDown(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onKeyD;\n      (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null || _otherHandlers$onKeyD.call(otherHandlers, event);\n      if (event.defaultPrevented) {\n        return;\n      }\n      if (SUPPORTED_KEYS.includes(event.key)) {\n        event.preventDefault();\n      }\n      if (STEP_KEYS.includes(event.key)) {\n        var direction = {\n          ArrowUp: 'up',\n          ArrowDown: 'down',\n          PageUp: 'up',\n          PageDown: 'down'\n        }[event.key];\n        handleStep(direction)(event);\n      }\n      if (event.key === 'Home' && isNumber(max)) {\n        handleValueChange()(event, max);\n      }\n      if (event.key === 'End' && isNumber(min)) {\n        handleValueChange()(event, min);\n      }\n    };\n  };\n  var getRootProps = function getRootProps() {\n    var externalProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var propsEventHandlers = extractEventHandlers(parameters, ['onBlur', 'onInputChange', 'onFocus', 'onChange']);\n    var externalEventHandlers = _extends({}, propsEventHandlers, extractEventHandlers(externalProps));\n    return _extends({}, externalProps, externalEventHandlers, {\n      onClick: handleClick(externalEventHandlers)\n    });\n  };\n  var getInputProps = function getInputProps() {\n    var externalProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _ref;\n    var externalEventHandlers = _extends({\n      onBlur: onBlur,\n      onFocus: onFocus\n    }, extractEventHandlers(externalProps, ['onInputChange']));\n    var mergedEventHandlers = _extends({}, externalProps, externalEventHandlers, {\n      onFocus: handleFocus(externalEventHandlers),\n      onChange: handleInputChange(_extends({}, externalEventHandlers, {\n        onInputChange: onInputChange\n      })),\n      onBlur: handleBlur(externalEventHandlers),\n      onKeyDown: handleKeyDown(externalEventHandlers)\n    });\n    var displayValue = (_ref = focused ? dirtyValue : value) != null ? _ref : '';\n    return _extends({}, mergedEventHandlers, {\n      type: 'text',\n      id: inputId,\n      'aria-invalid': errorProp || undefined,\n      defaultValue: undefined,\n      ref: handleInputRef,\n      value: displayValue,\n      'aria-valuenow': displayValue,\n      'aria-valuetext': String(displayValue),\n      'aria-valuemin': min,\n      'aria-valuemax': max,\n      autoComplete: 'off',\n      autoCorrect: 'off',\n      spellCheck: 'false',\n      required: requiredProp,\n      readOnly: readOnlyProp,\n      'aria-disabled': disabledProp,\n      disabled: disabledProp\n    });\n  };\n  var handleStepperButtonMouseDown = function handleStepperButtonMouseDown(event) {\n    event.preventDefault();\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  };\n  var stepperButtonCommonProps = {\n    'aria-controls': inputId,\n    tabIndex: -1\n  };\n  var isIncrementDisabled = disabledProp || (isNumber(value) ? value >= (max != null ? max : Number.MAX_SAFE_INTEGER) : false);\n  var getIncrementButtonProps = function getIncrementButtonProps() {\n    var externalProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return _extends({}, externalProps, stepperButtonCommonProps, {\n      disabled: isIncrementDisabled,\n      'aria-disabled': isIncrementDisabled,\n      onMouseDown: handleStepperButtonMouseDown,\n      onClick: handleStep('up')\n    });\n  };\n  var isDecrementDisabled = disabledProp || (isNumber(value) ? value <= (min != null ? min : Number.MIN_SAFE_INTEGER) : false);\n  var getDecrementButtonProps = function getDecrementButtonProps() {\n    var externalProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return _extends({}, externalProps, stepperButtonCommonProps, {\n      disabled: isDecrementDisabled,\n      'aria-disabled': isDecrementDisabled,\n      onMouseDown: handleStepperButtonMouseDown,\n      onClick: handleStep('down')\n    });\n  };\n  return {\n    disabled: disabledProp,\n    error: errorProp,\n    focused: focused,\n    formControlContext: formControlContext,\n    getInputProps: getInputProps,\n    getIncrementButtonProps: getIncrementButtonProps,\n    getDecrementButtonProps: getDecrementButtonProps,\n    getRootProps: getRootProps,\n    required: requiredProp,\n    value: focused ? dirtyValue : value,\n    isIncrementDisabled: isIncrementDisabled,\n    isDecrementDisabled: isDecrementDisabled,\n    inputValue: dirtyValue\n  };\n}","map":null,"metadata":{},"sourceType":"module"}